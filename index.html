<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MEDUCA English Planner (PWA)</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0A7AFE" />
  <style>
    :root{--bg:#0a0a0a;--card:#121212;--accent:#0A7AFE;--text:#f0f0f0;--muted:#bdbdbd}
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu; background:#0b0b0b; color:var(--text); margin:0;}
    header{padding:16px 20px; background:linear-gradient(90deg,#0A7AFE,#4E9FFF);}
    header h1{margin:0; font-size:1.2rem}
    main{padding:16px}
    .card{background:var(--card); border-radius:12px; padding:16px; max-width:860px; margin:0 auto 16px; box-shadow:0 2px 10px #0006}
    label{display:block; margin:8px 0 4px; font-weight:600}
    input, select, textarea{width:100%; padding:10px; border-radius:8px; border:1px solid #333; background:#1a1a1a; color:#fff}
    .grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px}
    .btn{background:var(--accent); color:white; border:none; padding:10px 14px; border-radius:10px; font-weight:700; cursor:pointer}
    .btn.secondary{background:#1f2937}
    .actions{display:flex; gap:8px; flex-wrap:wrap}
    .preview{white-space:pre-wrap; background:#0f1115; color:#e6edf3; padding:12px; border-radius:10px; overflow:auto; max-height:40vh}
    footer{padding:16px; text-align:center; color:var(--muted)}
    small.muted{color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <h1>Agente Educativo de Inglés – MEDUCA (PWA offline)</h1>
  </header>
  <main>
    <section class="card">
      <p>Esta PWA genera un planeamiento **Markdown** alineado al currículo MEDUCA (8 Scenarios, 2 Themes, 5 Lessons; Listening→Speaking→Reading→Writing→Mediation). Funciona <strong>offline</strong> en tu móvil.</p>
      <p class="muted">Completa los campos y pulsa <strong>Generar</strong>. Luego podrás <strong>descargar</strong> el archivo .md o <strong>copiar</strong> al portapapeles.</p>
    </section>

    <section class="card">
      <div class="grid">
        <div>
          <label>School</label>
          <input id="school" placeholder="CEBG Barrigón" />
        </div>
        <div>
          <label>Teacher</label>
          <input id="teacher" placeholder="José White" />
        </div>
        <div>
          <label>Grade</label>
          <input id="grade" placeholder="3" />
        </div>
        <div>
          <label>School year</label>
          <input id="year" placeholder="2026" />
        </div>
        <div>
          <label>Term</label>
          <input id="term" placeholder="Trimester 1" />
        </div>
        <div>
          <label>Level</label>
          <select id="level">
            <option value="Básico">Básico</option>
            <option value="Estándar" selected>Estándar</option>
            <option value="Enriquecido">Enriquecido</option>
          </select>
        </div>
      </div>
      <div class="grid" style="margin-top:8px">
        <div>
          <label>Scenario</label>
          <select id="scenario">
            <option value="A Walk in the Neighborhood">A Walk in the Neighborhood</option>
            <option value="It's a School Day!">It's a School Day!</option>
            <option value="A Guide to Panama">A Guide to Panama</option>
          </select>
        </div>
        <div>
          <label>Theme</label>
          <select id="theme">
            <option value="Places I Can Go">Places I Can Go</option>
            <option value="School Days">School Days</option>
            <option value="Our Historical Sites">Our Historical Sites</option>
            <option value="Panama Canal Trip">Panama Canal Trip</option>
          </select>
        </div>
      </div>
      <label style="margin-top:12px">Context</label>
      <textarea id="context" rows="3" placeholder="Grupo de primaria en contexto panameño; recursos básicos; enfoque comunicativo y proyectos."></textarea>

      <div class="actions" style="margin-top:12px">
        <button class="btn" id="generate">Generar</button>
        <button class="btn secondary" id="copyBtn">Copiar Markdown</button>
        <button class="btn secondary" id="downloadBtn">Descargar .md</button>
      </div>
    </section>

    <section class="card">
      <h3>Vista previa (Markdown)</h3>
      <div id="preview" class="preview"></div>
      <small class="muted">Consejo: después de descargar el .md, puedes subirlo directamente a tu repo.</small>
    </section>
  </main>

  <footer>
    <small class="muted">PWA generada para docentes de Panamá – MEDUCA Inglés Primaria. Funciona offline gracias al Service Worker.</small>
  </footer>

  <script src="app.js"></script>
</body>
</html>
